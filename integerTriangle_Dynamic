def maxSum(parent, idx, triangle, datas) :
    
    left = parent
    right = parent+1
    
    if idx == len(triangle) : return 0
    
    if datas[idx][parent] == -1 :
        datas[idx][parent] = triangle[idx][parent] + max(maxSum(left, idx+1, triangle, datas), maxSum(right, idx+1, triangle, datas))
    
    return datas[idx][parent]


def solution(triangle):
    datas=[[-1]*i for i in range(1, len(triangle[-1])+1)]
    
    return maxSum(0, 0, triangle, datas)
